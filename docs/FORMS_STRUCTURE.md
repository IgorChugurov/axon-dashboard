# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º –≤ –ø—Ä–æ–µ–∫—Ç–µ

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-20  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-20  
**–í–µ—Ä—Å–∏—è:** 2.1

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–§–æ—Ä–º—ã —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π](#—Ñ–æ—Ä–º—ã-—Å-–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π)
3. [–†—É—á–Ω—ã–µ —Ñ–æ—Ä–º—ã](#—Ä—É—á–Ω—ã–µ-—Ñ–æ—Ä–º—ã)
4. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
5. [–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π](#–∫–∞—Å—Ç–æ–º–Ω—ã–µ-—Ç–∏–ø—ã-–ø–æ–ª–µ–π)
6. [–°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#—Å—Ç—Ä–∞–Ω–∏—Ü—ã-—Å–æ–∑–¥–∞–Ω–∏—è—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
7. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
8. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ-—Ñ–∞–π–ª—ã)

---

## –û–±–∑–æ—Ä

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–≤–∞ —Ç–∏–ø–∞ —Ñ–æ—Ä–º:

1. **–§–æ—Ä–º—ã —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π** - –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (EntityDefinition + Field[])
2. **–†—É—á–Ω—ã–µ —Ñ–æ—Ä–º—ã** - –Ω–∞–ø–∏—Å–∞–Ω—ã –≤—Ä—É—á–Ω—É—é —Å hardcoded –ø–æ–ª—è–º–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–§–æ—Ä–º —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π:** 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–†—É—á–Ω—ã—Ö —Ñ–æ—Ä–º:** 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–°—Ç—Ä–∞–Ω–∏—Ü —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π:** 4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–°—Ç—Ä–∞–Ω–∏—Ü —Å —Ä—É—á–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞–º–∏:** 4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## –§–æ—Ä–º—ã —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

### 1. UniversalEntityForm

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `components/UniversalEntityForm.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª—é–±—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î.

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:**

- `FormWithSectionsShadcn` –∏–∑ `lib/form-generation`
- `EntityDefinition` + `Field[]` –∏–∑ –ë–î (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- `EntityUIConfig` –¥–ª—è UI –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î —á–µ—Ä–µ–∑ `getEntityDefinitionWithUIConfig()`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:**

| –°—Ç—Ä–∞–Ω–∏—Ü–∞             | –ü—É—Ç—å                                                                            | –†–µ–∂–∏–º  | –§–∞–π–ª                                                                                        |
| -------------------- | ------------------------------------------------------------------------------- | ------ | ------------------------------------------------------------------------------------------- |
| Entity Instance New  | `/projects/[projectId]/entity-instances/[entityDefinitionId]/new`               | create | `app/projects/[projectId]/entity-instances/[entityDefinitionId]/new/page.tsx`               |
| Entity Instance Edit | `/projects/[projectId]/entity-instances/[entityDefinitionId]/[instanceId]/edit` | edit   | `app/projects/[projectId]/entity-instances/[entityDefinitionId]/[instanceId]/edit/page.tsx` |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤—è–∑–µ–π (relations)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ–∫—Ü–∏–π (sections)
- –£—Å–ª–æ–≤–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–æ–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GlobalLoader

---

### 2. EnvironmentForm

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `app/projects/[projectId]/settings/environment/EnvironmentForm.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è environment variables. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –Ω–æ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–∑ JSON —Ñ–∞–π–ª–∞.

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:**

- `FormWithSectionsShadcn` –∏–∑ `lib/form-generation`
- `EntityDefinition` –∏ `Field[]` –∏–∑ —Ñ–∞–π–ª–∞ `config/environments.json`
- `EntityUIConfig` –∏–∑ —Ñ–∞–π–ª–∞ `config/environments.json`

**–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π - –∏–∑ —Ñ–∞–π–ª–∞ `config/environments.json`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:**

| –°—Ç—Ä–∞–Ω–∏—Ü–∞         | –ü—É—Ç—å                                                         | –†–µ–∂–∏–º  | –§–∞–π–ª                                                                     |
| ---------------- | ------------------------------------------------------------ | ------ | ------------------------------------------------------------------------ |
| Environment New  | `/projects/[projectId]/settings/environment/new`             | create | `app/projects/[projectId]/settings/environment/new/page.tsx`             |
| Environment Edit | `/projects/[projectId]/settings/environment/[environmentId]` | edit   | `app/projects/[projectId]/settings/environment/[environmentId]/page.tsx` |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ JSON —Ñ–∞–π–ª–∞
- –ü–æ–ª—è: `key`, `type`, `value`, `options`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤: string, number, boolean, select
- **–ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ `value`** —Å —Ç–∏–ø–æ–º `dynamicValue` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç —Ç–∏–ø –≤–≤–æ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª—è `type` –∏ `options`

---

## –†—É—á–Ω—ã–µ —Ñ–æ—Ä–º—ã

### 1. EntityDefinitionForm

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `components/entity-definition/EntityDefinitionForm.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†—É—á–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å—É—â–Ω–æ—Å—Ç–µ–π (EntityDefinition).

**–¢–∏–ø:** –†—É—á–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å hardcoded –ø–æ–ª—è–º–∏

**–ü–æ–ª—è:**

- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
- `url` - API URL
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ
- `tableName` - –ò–º—è —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î
- `type` - –¢–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏ (primary/secondary/tertiary)
- `titleSection0-3` - –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π —Ñ–æ—Ä–º—ã
- `createPermission`, `readPermission`, `updatePermission`, `deletePermission` - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:**

| –°—Ç—Ä–∞–Ω–∏—Ü–∞               | –ü—É—Ç—å                                                                | –†–µ–∂–∏–º  | –§–∞–π–ª                                                                            |
| ---------------------- | ------------------------------------------------------------------- | ------ | ------------------------------------------------------------------------------- |
| Entity Definition New  | `/projects/[projectId]/entity-definition/new`                       | create | `app/projects/[projectId]/entity-definition/new/page.tsx`                       |
| Entity Definition Edit | `/projects/[projectId]/entity-definition/[entityDefinitionId]/edit` | edit   | `app/projects/[projectId]/entity-definition/[entityDefinitionId]/edit/page.tsx` |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –†—É—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- Collapsible —Å–µ–∫—Ü–∏—è –¥–ª—è permissions
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `tableName` –≤ —Ä–µ–∂–∏–º–µ edit

---

### 2. FieldForm

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `components/entity-definition/FieldForm.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†—É—á–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π (Field) –¥–ª—è EntityDefinition.

**–¢–∏–ø:** –†—É—á–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å hardcoded –ø–æ–ª—è–º–∏

**–ü–æ–ª—è:**

- –ë–∞–∑–æ–≤—ã–µ: `name`, `dbType`, `type`, `label`, `placeholder`, `description`
- –í–∏–¥–∏–º–æ—Å—Ç—å: `forEditPage`, `forCreatePage`, `forEditPageDisabled`
- –í–∞–ª–∏–¥–∞—Ü–∏—è: `required`, `requiredText`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: `displayIndex`, `displayInTable`, `sectionIndex`
- –°–≤—è–∑–∏: `relatedEntityDefinitionId`, `relationFieldId`, `isRelationSource`
- –£—Å–ª–æ–≤–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å: `foreignKey`, `foreignKeyValue`
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `defaultStringValue`, `defaultNumberValue`, –∏ —Ç.–¥.
- –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ...

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:**

| –°—Ç—Ä–∞–Ω–∏—Ü–∞   | –ü—É—Ç—å                                                                                 | –†–µ–∂–∏–º  | –§–∞–π–ª                                                                                             |
| ---------- | ------------------------------------------------------------------------------------ | ------ | ------------------------------------------------------------------------------------------------ |
| Field New  | `/projects/[projectId]/entity-definition/[entityDefinitionId]/fields/new`            | create | `app/projects/[projectId]/entity-definition/[entityDefinitionId]/fields/new/page.tsx`            |
| Field Edit | `/projects/[projectId]/entity-definition/[entityDefinitionId]/fields/[fieldId]/edit` | edit   | `app/projects/[projectId]/entity-definition/[entityDefinitionId]/fields/[fieldId]/edit/page.tsx` |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –û—á–µ–Ω—å –±–æ–ª—å—à–∞—è —Ñ–æ—Ä–º–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–æ–ª–µ–π
- Collapsible —Å–µ–∫—Ü–∏–∏: UI Config, Relations, Defaults, API Config
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `dbType`
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –ø–æ–ª–µ–π –¥–ª—è relations

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### FormWithSectionsShadcn

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `lib/form-generation/components/FormWithSectionsShadcn.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ä–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:**

- `UniversalEntityForm`
- `EnvironmentForm`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ `EntityDefinition` + `Field[]`
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π –≤ —Å–µ–∫—Ü–∏–∏ (sectionIndex 0-3)
- –£—Å–ª–æ–≤–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–æ–ª–µ–π (foreignKey/foreignKeyValue)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (Yup schema)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π: text, textarea, number, boolean, date, select, relations
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: Field, FieldSet, FieldLegend, Card

---

### FormWithSections

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `lib/form-generation/components/FormWithSections.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è).

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `FormWithSectionsShadcn`

---

## –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π

### 1. Relations (manyToOne, oneToMany, manyToMany, oneToOne)

**–û–±—Ä–∞–±–æ—Ç–∫–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —á–µ—Ä–µ–∑ `InputRelationShadcn`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ü–æ–ª—è —Å `dbType` —Ä–∞–≤–Ω—ã–º `manyToOne`, `oneToMany`, `manyToMany`, `oneToOne` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ relation –ø–æ–ª—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `InputRelationShadcn`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç –æ–ø—Ü–∏–∏ —á–µ—Ä–µ–∑ API `/api/entities/${relatedEntityDefinitionId}/options`
- –û–ø—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
- –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–µ —Å `isOptionTitleField: true`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```json
{
  "name": "tags",
  "dbType": "manyToMany",
  "type": "multipleSelect",
  "relatedEntityDefinitionId": "tag-entity-id",
  "label": "Tags"
}
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `lib/form-generation/components/inputs-shadcn/InputRelationShadcn.tsx`

---

### 2. Dynamic Value (dynamicValue)

**–û–±—Ä–∞–±–æ—Ç–∫–∞:** –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –ø–æ–ª—è –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–∏–ø–∞ –≤–≤–æ–¥–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ü–æ–ª–µ —Å —Ç–∏–ø–æ–º `dynamicValue` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç —Ç–∏–ø –≤–≤–æ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `InputEnvironmentValue`
- –°–ª–µ–¥–∏—Ç –∑–∞ –ø–æ–ª–µ–º `type` (–∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º —á–µ—Ä–µ–∑ `typeFieldName`)
- –°–ª–µ–¥–∏—Ç –∑–∞ –ø–æ–ª–µ–º `options` (–∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º —á–µ—Ä–µ–∑ `optionsFieldName`)
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `type` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç —Ç–∏–ø –≤–≤–æ–¥–∞:
  - `string` ‚Üí `InputTextShadcn`
  - `number` ‚Üí `InputNumberShadcn`
  - `boolean` ‚Üí `InputSwitchShadcn`
  - `select` ‚Üí `InputSelectShadcn` (—Å –æ–ø—Ü–∏—è–º–∏ –∏–∑ –ø–æ–ª—è `options`)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```json
{
  "name": "value",
  "dbType": "varchar",
  "type": "dynamicValue",
  "label": "Value",
  "typeFieldName": "type", // –ò–º—è –ø–æ–ª—è, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≤–∏—Å–∏—Ç —Ç–∏–ø (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "type")
  "optionsFieldName": "options" // –ò–º—è –ø–æ–ª—è —Å –æ–ø—Ü–∏—è–º–∏ –¥–ª—è select (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "options")
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∏–ø–∞, –µ—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–æ–≤–æ–º—É —Ç–∏–ø—É
- –î–ª—è `select` —Ç–∏–ø–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å—Ç—å –≤ `options`
- –ï—Å–ª–∏ —Ç–∏–ø –µ—â–µ –Ω–µ –≤—ã–±—Ä–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç placeholder "Please select a type first"

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `lib/form-generation/components/inputs-shadcn/InputEnvironmentValue.tsx`

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

–í `config/environments.json`:

```json
{
  "fields": [
    {
      "name": "type",
      "type": "select",
      "options": [
        { "id": "string", "name": "String" },
        { "id": "number", "name": "Number" },
        { "id": "boolean", "name": "Boolean" },
        { "id": "select", "name": "Select" }
      ]
    },
    {
      "name": "value",
      "type": "dynamicValue",
      "typeFieldName": "type",
      "optionsFieldName": "options"
    },
    {
      "name": "options",
      "type": "array"
    }
  ]
}
```

---

## –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –° –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

| #   | –°—É—â–Ω–æ—Å—Ç—å        | –†–µ–∂–∏–º | –ü—É—Ç—å                                                                            | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             |
| --- | --------------- | ----- | ------------------------------------------------------------------------------- | --------------------- |
| 1   | Entity Instance | new   | `/projects/[projectId]/entity-instances/[entityDefinitionId]/new`               | `UniversalEntityForm` |
| 2   | Entity Instance | edit  | `/projects/[projectId]/entity-instances/[entityDefinitionId]/[instanceId]/edit` | `UniversalEntityForm` |
| 3   | Environment     | new   | `/projects/[projectId]/settings/environment/new`                                | `EnvironmentForm`     |
| 4   | Environment     | edit  | `/projects/[projectId]/settings/environment/[environmentId]`                    | `EnvironmentForm`     |

### –° —Ä—É—á–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞–º–∏

| #   | –°—É—â–Ω–æ—Å—Ç—å          | –†–µ–∂–∏–º | –ü—É—Ç—å                                                                                 | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç              |
| --- | ----------------- | ----- | ------------------------------------------------------------------------------------ | ---------------------- |
| 1   | Entity Definition | new   | `/projects/[projectId]/entity-definition/new`                                        | `EntityDefinitionForm` |
| 2   | Entity Definition | edit  | `/projects/[projectId]/entity-definition/[entityDefinitionId]/edit`                  | `EntityDefinitionForm` |
| 3   | Field             | new   | `/projects/[projectId]/entity-definition/[entityDefinitionId]/fields/new`            | `FieldForm`            |
| 4   | Field             | edit  | `/projects/[projectId]/entity-definition/[entityDefinitionId]/fields/[fieldId]/edit` | `FieldForm`            |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
   ‚Üì
2. EntityDefinition + Field[] + EntityUIConfig
   ‚Üì
3. UniversalEntityForm / EnvironmentForm
   ‚Üì
4. FormWithSectionsShadcn
   ‚Üì
5. GetInputForFieldShadcn (—Ä–æ—É—Ç–µ—Ä –∏–Ω–ø—É—Ç–æ–≤)
   ‚Üì
6. –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ Input –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   (InputText, InputNumber, InputSelect, InputRelation, InputEnvironmentValue, etc.)
```

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (UniversalEntityForm)

- `EntityDefinition` - –∏–∑ –ë–î —á–µ—Ä–µ–∑ `getEntityDefinitionWithUIConfig()`
- `Field[]` - –∏–∑ –ë–î —á–µ—Ä–µ–∑ `getEntityDefinitionWithUIConfig()`
- `EntityUIConfig` - –∏–∑ –ë–î –∏–ª–∏ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `getEntityDefinitionWithUIConfig()`

#### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (EnvironmentForm)

- `EntityDefinition` - –∏–∑ —Ñ–∞–π–ª–∞ `config/environments.json` (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é)
- `Field[]` - –∏–∑ —Ñ–∞–π–ª–∞ `config/environments.json` (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é)
- `EntityUIConfig` - –∏–∑ —Ñ–∞–π–ª–∞ `config/environments.json` (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é)

**–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** JSON —Ñ–∞–π–ª –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏.

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `lib/form-generation/`

```
lib/form-generation/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ FormWithSections.tsx          # –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ FormWithSectionsShadcn.tsx     # –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ GetInputForField.tsx           # –†–æ—É—Ç–µ—Ä –∏–Ω–ø—É—Ç–æ–≤ (–±–∞–∑–æ–≤–∞—è)
‚îÇ   ‚îú‚îÄ‚îÄ GetInputForFieldShadcn.tsx     # –†–æ—É—Ç–µ—Ä –∏–Ω–ø—É—Ç–æ–≤ (shadcn)
‚îÇ   ‚îú‚îÄ‚îÄ DeleteSection.tsx              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–¥–∞–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ inputs/                        # –ë–∞–∑–æ–≤—ã–µ –∏–Ω–ø—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ inputs-shadcn/                 # Shadcn –∏–Ω–ø—É—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ InputTextShadcn.tsx
‚îÇ       ‚îú‚îÄ‚îÄ InputNumberShadcn.tsx
‚îÇ       ‚îú‚îÄ‚îÄ InputSelectShadcn.tsx
‚îÇ       ‚îú‚îÄ‚îÄ InputRelationShadcn.tsx    # –ö–∞—Å—Ç–æ–º–Ω—ã–π: Relations
‚îÇ       ‚îî‚îÄ‚îÄ InputEnvironmentValue.tsx  # –ö–∞—Å—Ç–æ–º–Ω—ã–π: Dynamic Value
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ createSchema.ts                # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Yup —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ createFormStructure.ts         # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ —Å–µ–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ getItemForEdit.ts              # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ fieldHelpers.ts                # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ types.ts                           # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ index.ts                           # Public API
```

### –¢–∏–ø—ã –ø–æ–ª–µ–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

- `text` - –û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç
- `textarea` - –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç
- `number` - –ß–∏—Å–ª–æ
- `boolean` - –ë—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ (switch)
- `date` - –î–∞—Ç–∞/–≤—Ä–µ–º—è
- `select` - –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä
- `multipleSelect` - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
- `array` - –ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π
- `dynamicValue` - **–ö–∞—Å—Ç–æ–º–Ω—ã–π:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ, –º–µ–Ω—è—é—â–µ–µ —Ç–∏–ø –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π
- Relations (`manyToOne`, `oneToMany`, `manyToMany`, `oneToOne`) - **–ö–∞—Å—Ç–æ–º–Ω—ã–π:** –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### 1. –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

–§–æ—Ä–º—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ:

- `EntityDefinition` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—É—â–Ω–æ—Å—Ç–∏
- `Field[]` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—è —Ñ–æ—Ä–º—ã —Å –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- `EntityUIConfig` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –∫–Ω–æ–ø–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è)

### 2. –°–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤ —Å–µ–∫—Ü–∏–∏ –ø–æ `sectionIndex`:

- `sectionIndex: 0` - "General Information" (–∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫)
- `sectionIndex: 1-3` - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–∑ `sectionTitles` –≤ `uiConfig.form`

### 3. –£—Å–ª–æ–≤–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å

–ü–æ–ª—è –º–æ–≥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è/—Å–∫—Ä—ã–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:

- `foreignKey` - –ø–æ–ª–µ, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≤–∏—Å–∏—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å
- `foreignKeyValue` - –∑–Ω–∞—á–µ–Ω–∏–µ(—è), –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–ª–µ –≤–∏–¥–∏–º–æ

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

–°—Ö–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ:

- `required` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª—è
- `requiredText` - –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –¢–∏–ø –ø–æ–ª—è - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### 5. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ç–∏–ø–∞ –ø–æ–ª–µ–π:

1. **Relations** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ `dbType` –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `InputRelationShadcn`
2. **Dynamic Value** - –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ —Ç–∏–ø—É `dynamicValue` –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `InputEnvironmentValue`

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `UniversalEntityForm` –¥–ª—è:

- –°–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ª—é–±—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- –ö–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –ë–î (EntityDefinition + Field[])

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `EnvironmentForm` –¥–ª—è:

- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–∑ JSON —Ñ–∞–π–ª–∞
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π (dynamicValue)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω—ã–µ —Ñ–æ—Ä–º—ã

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–ª—è:

- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º—ã (EntityDefinition, Field)
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
- –§–æ—Ä–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –ø–æ–¥ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É

### –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä—É—á–Ω—É—é —Ñ–æ—Ä–º—É –Ω–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é:

1. –°–æ–∑–¥–∞–π—Ç–µ `EntityDefinition` –≤ –ë–î –∏–ª–∏ JSON —Ñ–∞–π–ª–µ
2. –°–æ–∑–¥–∞–π—Ç–µ `Field[]` –≤ –ë–î –∏–ª–∏ JSON —Ñ–∞–π–ª–µ
3. –°–æ–∑–¥–∞–π—Ç–µ `EntityUIConfig` (–≤ –ë–î –∏–ª–∏ —Ñ–∞–π–ª–µ)
4. –ó–∞–º–µ–Ω–∏—Ç–µ —Ä—É—á–Ω—É—é —Ñ–æ—Ä–º—É –Ω–∞ `UniversalEntityForm` –∏–ª–∏ `EnvironmentForm`

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 2025-01-20 (v2.1)

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã" —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ [CONFIG_FILE_STRUCTURE.md](CONFIG_FILE_STRUCTURE.md)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 2025-01-20 (v2.0)

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π:
  - Relations (manyToOne, oneToMany, manyToMany, oneToOne)
  - Dynamic Value (dynamicValue)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 2025-01-20 (v1.0)

- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–æ—Ä–º—ã: `EntityForm`, `PostForm`, `AuthorForm`, `TagForm`, `AuthorSelect`, `TagsSelect`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–æ—Ä–º

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

–î–ª—è —Ñ–æ—Ä–º —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `EnvironmentForm`), –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON —Ñ–∞–π–ª–∞—Ö –≤ –ø–∞–ø–∫–µ `config/`.

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [CONFIG_FILE_STRUCTURE.md](CONFIG_FILE_STRUCTURE.md)

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞:**

   - –ü–æ–ª—è `EntityDefinition` (entityName, tableName, url, description, type, permissions)
   - `EntityUIConfig` (list, form, messages)
   - –ú–∞—Å—Å–∏–≤ `fields` (Field[])

2. **TypeScript —Ç–∏–ø—ã:**

   - `EntityConfigFile` - –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞
   - `FieldFromConfig` - –ø–æ–ª–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (–±–µ–∑ createdAt/updatedAt)

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

   ```typescript
   import environmentsConfig from "@/config/environments.json";
   import type { EntityConfigFile } from "@/lib/universal-entity/config-file-types";

   const config: EntityConfigFile =
     environmentsConfig as unknown as EntityConfigFile;
   ```

4. **–í–∞–∂–Ω–æ:**
   - –ü–æ–ª—è `createdAt` –∏ `updatedAt` –Ω–µ –Ω—É–∂–Ω—ã –≤ JSON - –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –í—Å–µ –¥–∞–Ω–Ω—ã–µ `entityDefinition` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ, –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ –≤ –∫–æ–¥–µ

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **[CONFIG_FILE_STRUCTURE.md](CONFIG_FILE_STRUCTURE.md)** - –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- [Form Generation Usage Guide](implementation/FORM_GENERATION_USAGE.md)
- [Form Generation Flow](implementation/FORM_GENERATION_FLOW.md)
- [Universal Entity System](implementation/UNIVERSAL_ENTITY_SYSTEM.md)
