# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Auth SDK

**–î–∞—Ç–∞:** 2025-01-30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## üìä –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ. –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `packages/auth-sdk`. –û—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–¥—É–±–ª–∏–∫–∞—Ç—ã SDK):

1. ‚ùå `lib/auth/types.ts` ‚Üí –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `packages/auth-sdk/src/types.ts`
2. ‚ùå `lib/auth/role-cache.ts` ‚Üí –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `packages/auth-sdk/src/utils/role-cache.ts`
3. ‚ùå `lib/supabase/middleware.ts` ‚Üí –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `packages/auth-sdk/src/server/middleware.ts`

### –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç SDK –≤–Ω—É—Ç—Ä–∏):

1. ‚úÖ `lib/auth/roles.ts` ‚Üí –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –∫–∞–∫ –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ `packages/auth-sdk/src/server/role-service.ts`
2. ‚úÖ `components/providers/AuthProvider.tsx` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∏–ø—ã –∏–∑ SDK

## üìÅ –û—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ–∞–π–ª—ã –∏ –∏—Ö –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

### `lib/auth/` - 3 —Ñ–∞–π–ª–∞

#### 1. `lib/auth/headers.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è Next.js, —á–∏—Ç–∞–µ—Ç headers —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ middleware  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

- `app/layout.tsx`
- `app/page.tsx`
- `lib/entities/projects/service.ts`

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è Next.js (`next/headers`)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∏–ø—ã –∏–∑ SDK (`@/packages/auth-sdk/src/types`)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –∏–∑–±–µ–≥–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Supabase

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK —Ç–∏–ø—ã

#### 2. `lib/auth/roles.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨ (–æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ SDK)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ SDK –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Next.js  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

- 6 —Ñ–∞–π–ª–æ–≤ –≤ `app/projects/**/*.tsx` (–ø—Ä–æ–≤–µ—Ä–∫–∞ `isAdmin`)

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –£–¥–æ–±–Ω—ã–π API –¥–ª—è Next.js (–Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `supabase` –∫–ª–∏–µ–Ω—Ç)
- –í–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK: `packages/auth-sdk/src/server/role-service.ts`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK –≤–Ω—É—Ç—Ä–∏

#### 3. `lib/auth/utils.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨ (–ª–µ–≥–∞—Å–∏ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ API)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ (–Ω–µ Supabase)  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

- `lib/api/handlers.ts` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º API (`NEXT_PUBLIC_API_URL`)

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –†–∞–±–æ—Ç–∞–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º API, –Ω–µ —Å Supabase
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ cookies: `accessToken`, `refreshToken`, `userData`
- –≠—Ç–æ –ª–µ–≥–∞—Å–∏ –∫–æ–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º –±—ç–∫–µ–Ω–¥–æ–º

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ Supabase –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### `lib/supabase/` - 5 —Ñ–∞–π–ª–æ–≤

#### 1. `lib/supabase/server.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨ (–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ Supabase –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ (40+ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π)

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –£–¥–æ–±–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞ (–Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å URL –∏ –∫–ª—é—á –∫–∞–∂–¥—ã–π —Ä–∞–∑)
- SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `createServerSupabaseClient()`, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å

#### 2. `lib/supabase/client.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨ (–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ Supabase –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ (15+ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π)

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `server.ts` - —É–¥–æ–±–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞
- SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `createBrowserSupabaseClient()`, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å

#### 3. `lib/supabase/auth.ts` ‚ö†Ô∏è –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª, –ª–µ–≥–∞—Å–∏  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å (–ø—É—Å—Ç–æ–π —Ñ–∞–π–ª —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –æ –ª–µ–≥–∞—Å–∏)

#### 4. `lib/supabase/admin.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–¥–º–∏–Ω—Å–∫–∏–π Supabase –∫–ª–∏–µ–Ω—Ç (Service Role Key)  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `SUPABASE_SERVICE_ROLE_KEY`)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –ø–æ–≤—ã—à–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞

#### 5. `lib/supabase/types.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–∏–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Database schema)  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –í–µ–∑–¥–µ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase –∫–ª–∏–µ–Ω—Ç

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –¢–∏–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
- –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ —Å—Ö–µ–º—ã –ë–î –ø—Ä–æ–µ–∫—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∞

### `app/auth/` - 2 —Ñ–∞–π–ª–∞

#### 1. `app/auth/callback/route.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Route handler –¥–ª—è OAuth callback –∏ password reset  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** Next.js route handler

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è Next.js App Router
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –æ—Ç OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `lib/supabase/server` (–æ–±–µ—Ä—Ç–∫–∞)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥ Next.js route handler

#### 2. `app/auth/reset-password/` ‚úÖ –û–°–¢–ê–í–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** Next.js —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ SDK (`packages/auth-sdk/src/components/ResetPasswordClient.tsx`)
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è Next.js App Router

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SDK –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### `components/providers/AuthProvider.tsx` ‚úÖ –û–°–¢–ê–í–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ SDK AuthProvider –¥–ª—è Next.js  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** `app/layout.tsx`

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è Next.js (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useRouter`)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SDK: `packages/auth-sdk/src/client`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK

### `middleware.ts` ‚úÖ –û–°–¢–ê–í–ò–¢–¨

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Next.js middleware  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** Next.js middleware

**–ü–æ—á–µ–º—É –Ω–µ –≤ SDK:**

- –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è Next.js
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SDK: `packages/auth-sdk/src/server/middleware.ts`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

### –£–¥–∞–ª–µ–Ω–æ:

- ‚ùå 3 —Ñ–∞–π–ª–∞ (–¥—É–±–ª–∏–∫–∞—Ç—ã SDK)

### –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ SDK:

- ‚úÖ 2 —Ñ–∞–π–ª–∞ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç SDK –≤–Ω—É—Ç—Ä–∏)

### –û—Å—Ç–∞–≤–ª–µ–Ω–æ (—Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º):

- ‚úÖ 10 —Ñ–∞–π–ª–æ–≤ (–æ–±–µ—Ä—Ç–∫–∏, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥, –ª–µ–≥–∞—Å–∏)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SDK:

- ‚úÖ `middleware.ts` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `createAuthMiddleware` –∏–∑ SDK
- ‚úÖ `components/providers/AuthProvider.tsx` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ `lib/auth/roles.ts` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ `lib/auth/headers.ts` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK —Ç–∏–ø—ã
- ‚úÖ `app/auth/reset-password/` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üéØ –í—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —É–¥–∞–ª–µ–Ω—ã
2. –í—Å–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–∏–ø—ã/—Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ SDK
3. –û–±–µ—Ä—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥ (Next.js, –≤–Ω–µ—à–Ω–∏–π API) –æ—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ –º–µ—Å—Ç–µ

### ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–£–¥–∞–ª–∏—Ç—å `lib/supabase/auth.ts`** - –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
2. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `lib/auth/utils.ts` ‚Üí `lib/api/auth-utils.ts` –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏ (–ª–µ–≥–∞—Å–∏ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ API)

### üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:

- **–ü—Ä–æ–≥—Ä–µ—Å—Å:** 100% ‚úÖ
- **–î—É–±–ª–∏–∫–∞—Ç—ã:** –£–¥–∞–ª–µ–Ω—ã ‚úÖ
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SDK:** –í–µ–∑–¥–µ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ ‚úÖ
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ ‚úÖ

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Auth SDK **–∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ**. –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª–µ–Ω—ã, –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç SDK. –û—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ:

- **–û–±–µ—Ä—Ç–∫–∏** –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥** –¥–ª—è Next.js
- **–õ–µ–≥–∞—Å–∏ –∫–æ–¥** –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ API
- **–¢–∏–ø—ã –ë–î** —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

–í—Å–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ SDK, **—É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã**.
