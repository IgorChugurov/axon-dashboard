# Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ ÑˆÐ°Ñ€Ð¸Ð½Ð³Ð° SDK

**Ð”Ð°Ñ‚Ð°:** 2025-01-30  
**Ð¦ÐµÐ»ÑŒ:** ÐŸÑ€Ð¾Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ ÑˆÐ°Ñ€Ð¸Ð½Ð³Ð° SDK Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ ÐºÐ°Ðº Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°

---

## ðŸ“Š Ð¢ÐµÐºÑƒÑ‰Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° SDK

### Ð Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð½Ð° Ñ‡Ð°ÑÑ‚Ð¸:

1. **ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ñ‡Ð°ÑÑ‚ÑŒ** (`browser.ts`, `client.ts`, `base/base-client.ts`)

   - âœ… ÐÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Next.js
   - âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð² Ð»ÑŽÐ±Ð¾Ð¼ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ
   - âœ… ÐœÐ¾Ð¶Ð½Ð¾ ÑˆÐ°Ñ€Ð¸Ñ‚ÑŒ

2. **Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ** (`server.ts`, `supabase/server-client.ts`)

   - âš ï¸ Ð—Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ `next/headers` (cookies)
   - âš ï¸ Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ SSR ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚
   - â“ ÐœÐ¾Ð¶Ð½Ð¾ Ð»Ð¸ ÑˆÐ°Ñ€Ð¸Ñ‚ÑŒ?

3. **ÐžÐ±Ñ‰Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ** (Ñ‚Ð¸Ð¿Ñ‹, ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹, Ð¾ÑˆÐ¸Ð±ÐºÐ¸)
   - âœ… ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð°
   - âœ… ÐœÐ¾Ð¶Ð½Ð¾ ÑˆÐ°Ñ€Ð¸Ñ‚ÑŒ

---

## ðŸŽ¯ Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ ÑˆÐ°Ñ€Ð¸Ð½Ð³Ð° SDK

### 1. NPM Ð¿Ð°ÐºÐµÑ‚ (â­ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

**ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ SDK ÐºÐ°Ðº Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ npm Ð¿Ð°ÐºÐµÑ‚Ð°

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ (`npm install @axon/sdk`)
- âœ… Ð’ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· semver
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· package manager
- âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð»ÑŽÐ±Ñ‹Ð¼ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ¾Ð¼ (Next.js, React, Vue Ð¸ Ñ‚.Ð´.)
- âœ… TypeScript Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸
- âœ… ÐœÐ¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð¼Ð¾Ð½Ð¾Ñ€ÐµÐ¿Ð¾

**ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸:**

- âš ï¸ ÐÑƒÐ¶ÐµÐ½ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹/Ð¿Ð°ÐºÐµÑ‚
- âš ï¸ ÐÑƒÐ¶ÐµÐ½ CI/CD Ð´Ð»Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸

**Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ:**

```json
// package.json SDK Ð¿Ð°ÐºÐµÑ‚Ð°
{
  "name": "@axon/universal-entity-sdk",
  "version": "1.0.0",
  "main": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "require": "./dist/index.cjs"
    },
    "./server": {
      "import": "./dist/server.js",
      "require": "./dist/server.cjs"
    }
  }
}
```

**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:**

```typescript
// Ð’ Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ
import { createClientSDK } from "@axon/universal-entity-sdk";
import { createServerSDK } from "@axon/universal-entity-sdk/server";

// ÐšÐ»Ð¸ÐµÐ½Ñ‚
const sdk = createClientSDK(projectId, config);

// Ð¡ÐµÑ€Ð²ÐµÑ€ (Next.js)
const sdk = await createServerSDK(projectId, config, { cookies });
```

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ ÑÐµÑ€Ð²ÐµÑ€Ð½Ð¾Ð¹ Ñ‡Ð°ÑÑ‚ÑŒÑŽ:**

- Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ `next/headers`
- Ð ÐµÑˆÐµÐ½Ð¸Ðµ: ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½ÑƒÑŽ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¸Ð»Ð¸ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°ÐºÐµÑ‚ `@axon/universal-entity-sdk/next`

---

### 2. Module Federation (Webpack 5)

**ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Webpack Module Federation Ð´Ð»Ñ ÑˆÐ°Ñ€Ð¸Ð½Ð³Ð° Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… Ð”Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹
- âœ… ÐžÐ±Ñ‰Ð¸Ð¹ runtime Ð¼ÐµÐ¶Ð´Ñƒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸
- âœ… ÐœÐ¾Ð¶Ð½Ð¾ ÑˆÐ°Ñ€Ð¸Ñ‚ÑŒ Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

**ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸:**

- âŒ Next.js Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Module Federation Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸
- âŒ Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½ÑƒÑŽ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ Webpack
- âŒ Ð¡Ð»Ð¾Ð¶Ð½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°
- âŒ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ TypeScript
- âŒ ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ App Router Next.js 13+

**Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ:**

```javascript
// next.config.js (ÑÐ»Ð¾Ð¶Ð½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°)
const ModuleFederationPlugin = require("@module-federation/nextjs-mf");

module.exports = {
  webpack: (config, options) => {
    config.plugins.push(
      new ModuleFederationPlugin({
        name: "host",
        remotes: {
          sdk: "sdk@http://localhost:3001/remoteEntry.js",
        },
      })
    );
    return config;
  },
};
```

**Ð’Ñ‹Ð²Ð¾Ð´:** âŒ ÐÐµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Next.js

---

### 3. Git Submodule

**ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** SDK ÐºÐ°Ðº git submodule Ð² Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ñ…

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
- âœ… ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¸ÑÑ…Ð¾Ð´Ð½Ð¾Ð¼Ñƒ ÐºÐ¾Ð´Ñƒ
- âœ… Ð›ÐµÐ³ÐºÐ¾ Ð²Ð½Ð¾ÑÐ¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ

**ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸:**

- âŒ Ð¡Ð»Ð¾Ð¶Ð½Ð¾Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð²ÐµÑ€ÑÐ¸ÑÐ¼Ð¸
- âŒ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸
- âŒ ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ npm/yarn/pnpm
- âŒ ÐŸÐ»Ð¾Ñ…Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð² IDE

**Ð’Ñ‹Ð²Ð¾Ð´:** âŒ ÐÐµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ

---

### 4. Monorepo (Turborepo, Nx)

**ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** SDK ÐºÐ°Ðº Ð¿Ð°ÐºÐµÑ‚ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð¼Ð¾Ð½Ð¾Ñ€ÐµÐ¿Ð¾

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… Ð•Ð´Ð¸Ð½Ð°Ñ ÐºÐ¾Ð´Ð¾Ð²Ð°Ñ Ð±Ð°Ð·Ð°
- âœ… ÐžÐ±Ñ‰Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹

**ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸:**

- âš ï¸ Ð’ÑÐµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸
- âš ï¸ Ð¡Ð»Ð¾Ð¶Ð½ÐµÐµ Ð´Ð»Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²

**Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°:**

```
monorepo/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ sdk/
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ src/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ dashboard/  # Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚
â”‚   â””â”€â”€ other-app/   # Ð”Ñ€ÑƒÐ³Ð¾Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚
â””â”€â”€ turbo.json
```

**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:**

```json
// apps/dashboard/package.json
{
  "dependencies": {
    "@axon/sdk": "workspace:*"
  }
}
```

**Ð’Ñ‹Ð²Ð¾Ð´:** âœ… Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ Ð´Ð»Ñ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð², âŒ Ð½Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ…

---

### 5. ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ API Gateway / Ð¡ÐµÑ€Ð²Ð¸Ñ

**ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** SDK Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ, Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑŽÑ‰Ð¸Ð¹ API

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¸Ð·Ð¾Ð»ÑÑ†Ð¸Ñ
- âœ… ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾Ðµ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- âœ… ÐœÐ¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð»ÑŽÐ±Ñ‹Ð¼ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð¼ (Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ JS)
- âœ… Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°

**ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸:**

- âŒ Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
- âŒ Ð¡ÐµÑ‚ÐµÐ²Ñ‹Ðµ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ¸
- âŒ Ð¡Ð»Ð¾Ð¶Ð½ÐµÐµ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ°
- âŒ ÐÑƒÐ¶ÐµÐ½ API Gateway

**ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      HTTP/REST      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚  SDK Service â”‚
â”‚  (Next.js)  â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  (Node.js)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚   Supabase   â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ð’Ñ‹Ð²Ð¾Ð´:** âœ… Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ Ð´Ð»Ñ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð½Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼, âŒ Ð¸Ð·Ð±Ñ‹Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… ÑÐ»ÑƒÑ‡Ð°ÐµÐ²

---

### 6. CDN / UMD Bundle

**ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** SDK ÐºÐ°Ðº UMD bundle, Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼Ñ‹Ð¹ Ñ‡ÐµÑ€ÐµÐ· CDN

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ (Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÐºÑ€Ð¸Ð¿Ñ‚)
- âœ… ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· CDN
- âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð±ÐµÐ· ÑÐ±Ð¾Ñ€ÐºÐ¸

**ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸:**

- âŒ Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ñ‡Ð°ÑÑ‚ÑŒ
- âŒ ÐÐµÑ‚ TypeScript Ñ‚Ð¸Ð¿Ð¾Ð²
- âŒ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ tree-shaking
- âŒ Ð‘Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ bundle

**Ð’Ñ‹Ð²Ð¾Ð´:** âŒ ÐÐµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… ÑÐ»ÑƒÑ‡Ð°ÐµÐ²)

---

## ðŸŽ¯ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ð°Ñ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ

### Ð“Ð¸Ð±Ñ€Ð¸Ð´Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´: NPM Ð¿Ð°ÐºÐµÑ‚ + Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ

**Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ð°ÐºÐµÑ‚Ð¾Ð²:**

1. **`@axon/universal-entity-sdk`** (Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¿Ð°ÐºÐµÑ‚)

   - ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ñ‡Ð°ÑÑ‚ÑŒ
   - Ð¢Ð¸Ð¿Ñ‹
   - Ð£Ñ‚Ð¸Ð»Ð¸Ñ‚Ñ‹
   - ÐžÑˆÐ¸Ð±ÐºÐ¸

2. **`@axon/universal-entity-sdk-next`** (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹)

   - Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð´Ð»Ñ Next.js
   - Ð—Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ `next/headers`

3. **`@axon/universal-entity-sdk-remix`** (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹, Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ)
   - Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð´Ð»Ñ Remix
   - Ð—Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Remix API

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð²ÐµÐ·Ð´Ðµ
- âœ… Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ - Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ð½ÑƒÐ¶Ð½Ñ‹Ñ… Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ¾Ð²
- âœ… Ð“Ð¸Ð±ÐºÐ¾ÑÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ

---

## ðŸ”„ ÐœÐ¸ÐºÑ€Ð¾Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´: Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð»Ð¸?

### Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸: âŒ Ð¡Ð»Ð¾Ð¶Ð½Ð¾ Ð´Ð»Ñ Next.js

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:**

1. **Next.js Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Module Federation Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸**

   - ÐÑƒÐ¶Ð½Ð° ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
   - ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ App Router

2. **Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ SSR ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚**

   - Cookies, headers Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Server Components
   - ÐÐµÐ»ÑŒÐ·Ñ ÑˆÐ°Ñ€Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Module Federation

3. **Ð Ð°Ð·Ð½Ñ‹Ðµ Ð²ÐµÑ€ÑÐ¸Ð¸ Next.js**
   - ÐœÐ¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹

### ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð°: âœ… NPM Ð¿Ð°ÐºÐµÑ‚ ÐºÐ°Ðº "Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´"

**ÐšÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ:**

- SDK ÐºÐ°Ðº "Ð¼Ð¸ÐºÑ€Ð¾ÑÐµÑ€Ð²Ð¸Ñ Ð² ÐºÐ¾Ð´Ðµ" (Ð½Ðµ Ð² runtime)
- ÐšÐ°Ð¶Ð´Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÑÐ²Ð¾ÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ SDK
- ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· npm Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**

- âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð»ÑŽÐ±Ñ‹Ð¼ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ¾Ð¼
- âœ… ÐÐµÑ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ñ SSR
- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
- âœ… Ð’ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

---

## ðŸ“¦ ÐŸÐ»Ð°Ð½ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (NPM Ð¿Ð°ÐºÐµÑ‚)

### Ð¨Ð°Ð³ 1: ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° SDK Ð¿Ð°ÐºÐµÑ‚Ð°

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
mkdir axon-universal-entity-sdk
cd axon-universal-entity-sdk

# Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
packages/
â”œâ”€â”€ sdk/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ browser.ts
â”‚   â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â””â”€â”€ sdk-next/
    â”œâ”€â”€ src/
    â”‚   â””â”€â”€ server.ts
    â”œâ”€â”€ package.json
    â””â”€â”€ tsconfig.json
```

### Ð¨Ð°Ð³ 2: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° package.json

```json
{
  "name": "@axon/universal-entity-sdk",
  "version": "1.0.0",
  "description": "SDK for working with universal entity instances",
  "main": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "require": "./dist/index.cjs",
      "types": "./dist/index.d.ts"
    },
    "./server": {
      "import": "./dist/server.js",
      "require": "./dist/server.cjs",
      "types": "./dist/server.d.ts"
    }
  },
  "peerDependencies": {
    "@supabase/supabase-js": "^2.0.0",
    "@supabase/ssr": "^0.0.0"
  },
  "devDependencies": {
    "@supabase/supabase-js": "^2.0.0",
    "@supabase/ssr": "^0.0.0",
    "typescript": "^5.0.0"
  }
}
```

### Ð¨Ð°Ð³ 3: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÐ±Ð¾Ñ€ÐºÐ¸

```json
// package.json scripts
{
  "scripts": {
    "build": "tsc && tsc --module commonjs --outDir dist",
    "prepublishOnly": "npm run build"
  }
}
```

### Ð¨Ð°Ð³ 4: ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ

```bash
# Ð’ CI/CD
npm publish --access public
```

### Ð¨Ð°Ð³ 5: Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ñ…

```bash
# Ð’ Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ
npm install @axon/universal-entity-sdk
```

```typescript
// Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ
import { createClientSDK } from "@axon/universal-entity-sdk";
// Ð¸Ð»Ð¸ Ð´Ð»Ñ Next.js
import { createServerSDK } from "@axon/universal-entity-sdk/server";
```

---

## ðŸŽ¯ Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

### Ð”Ð»Ñ ÑˆÐ°Ñ€Ð¸Ð½Ð³Ð° SDK:

1. **â­ NPM Ð¿Ð°ÐºÐµÑ‚** - Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚

   - ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð°
   - Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ
   - Ð’ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

2. **Monorepo** - Ð´Ð»Ñ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²

   - Ð•ÑÐ»Ð¸ Ð²ÑÐµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸

3. **API Gateway** - Ð´Ð»Ñ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð½Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼
   - Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð° Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
   - Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð½Ðµ-JS ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð²

### Ð”Ð»Ñ Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°:

1. **âŒ Module Federation** - Ð½Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Next.js

   - Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ ÑÐ»Ð¾Ð¶Ð½Ð¾
   - ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ App Router

2. **âœ… NPM Ð¿Ð°ÐºÐµÑ‚ ÐºÐ°Ðº "Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´"**
   - ÐšÐ°Ð¶Ð´Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÑÐ²Ð¾ÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ
   - ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
   - Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð²ÐµÐ·Ð´Ðµ

---

## ðŸ“ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

1. âœ… Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð´Ð»Ñ SDK
2. âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ ÑÐ±Ð¾Ñ€ÐºÑƒ Ð¸ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸ÑŽ
3. âœ… Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÑŒ Ð½Ð° `sdk` Ð¸ `sdk-next` Ð¿Ð°ÐºÐµÑ‚Ñ‹
4. âœ… ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐµ
5. âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ CI/CD Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸

---

**Ð’Ñ‹Ð²Ð¾Ð´:** SDK Ð¼Ð¾Ð¶Ð½Ð¾ ÑˆÐ°Ñ€Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· NPM Ð¿Ð°ÐºÐµÑ‚. ÐœÐ¸ÐºÑ€Ð¾Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ñ‡ÐµÑ€ÐµÐ· Module Federation Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ»Ð¾Ð¶ÐµÐ½ Ð´Ð»Ñ Next.js, Ð½Ð¾ NPM Ð¿Ð°ÐºÐµÑ‚ Ñ€ÐµÑˆÐ°ÐµÑ‚ Ñ‚Ðµ Ð¶Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð¿Ñ€Ð¾Ñ‰Ðµ Ð¸ Ð½Ð°Ð´ÐµÐ¶Ð½ÐµÐµ.
